<div class="content-table">
    <div class="applications-table-header">
        <div class="header-cell">
            ID
            <div class="sort-buttons-row">
                <button hx-on:click="sortingButton(event);" class="sort-btn" data-sort="ID_ASC" title="Küçükten Büyüğe">
                    <i class="fas fa-sort-numeric-down"></i>
                </button>
                <button hx-on:click="sortingButton(event);" class="sort-btn" data-sort="ID_DESC" title="Büyükten Küçüğe">
                    <i class="fas fa-sort-numeric-up"></i>
                </button>
                <button hx-on:click="clearSortButtonForApplications(event);" class="clear-cell-sort-btn" data-category="ID" title="Sıralamayı Temizle">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="header-cell">
            BAŞVURAN BİLGİLERİ
            <div class="sort-controls">
                <div class="sort-buttons-row">
                    <button hx-on:click="sortingButton(event);" class="sort-btn" data-sort="NAME_ASC" title="A-Z Sırala">
                        <i class="fas fa-sort-alpha-down"></i>
                    </button>
                    <button hx-on:click="sortingButton(event);" class="sort-btn" data-sort="NAME_DESC" title="Z-A Sırala">
                        <i class="fas fa-sort-alpha-up"></i>
                    </button>
                </div>
                <button hx-on:click="clearSortButtonForApplications(event);" class="clear-cell-sort-btn" data-category="NAME" title="Sıralamayı Temizle">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="header-cell">
            DEPARTMAN / BÖLÜM
            <div class="sort-controls">
                <div class="sort-buttons-row">
                    <button hx-on:click="sortingButton(event);" class="sort-btn" data-sort="DEPARTMENT_ASC" title="A-Z Sırala">
                        <i class="fas fa-sort-alpha-down"></i>
                    </button>
                    <button hx-on:click="sortingButton(event);" class="sort-btn" data-sort="DEPARTMENT_DESC" title="A-Z Sırala">
                        <i class="fas fa-sort-alpha-up"></i>
                    </button>
                </div>
                <button hx-on:click="clearSortButtonForApplications(event);" class="clear-cell-sort-btn" data-category="DEPARTMENT" title="Sıralamayı Temizle">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="header-cell">
            BAŞVURU / SON İŞLEM TARİHİ
            <div class="sort-controls">
                <div class="sort-buttons-row">
                    <button hx-on:click="sortingButton(event);" class="sort-btn" data-sort="DATE_ASC" title="Eskiden Yeniye">
                        <i class="fas fa-sort-numeric-down"></i>
                    </button>
                    <button hx-on:click="sortingButton(event);" class="sort-btn" data-sort="DATE_DESC" title="Yeniden Eskiye">
                        <i class="fas fa-sort-numeric-up"></i>
                    </button>
                </div>
                <button hx-on:click="clearSortButtonForApplications(event);" class="clear-cell-sort-btn" data-category="DATE" title="Sıralamayı Temizle">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="header-cell">
            DURUM
            <div class="sort-controls">
                <div class="sort-buttons-row">
                    <button hx-on:click="sortingButton(event);" class="sort-btn" data-sort="APPROVED" title="Onaylananlar">
                        <i class="fa-solid fa-circle-check"></i>
                    </button>
                    <button hx-on:click="sortingButton(event);" class="sort-btn" data-sort="DENIED" title="Reddedilenler">
                        <i class="fa-solid fa-circle-xmark"></i>
                    </button>
                </div>
                <button hx-on:click="clearSortButtonForApplications(event);" class="clear-cell-sort-btn" data-category="STATUS" title="Sıralamayı Temizle">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="header-cell">İŞLEMLER</div>
    </div>

    @{
        var dateTime = DateTime.UtcNow;
        foreach (var application in Model?.List ?? new List<ApplicationDto>())
        {

            <div class="applications-table-row">
                <div class="cell">
                    <div class="department-info">
                        <strong>@application.ApplicationId</strong>
                    </div>
                </div>
                <div class="cell student-info">
                    <div class="student-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="student-details">
                        <h4>@application.ApplicantFirstName @application.ApplicantLastName</h4>
                        <span>@application.ApplicantEmail</span>
                    </div>
                </div>
                <div class="cell">
                    <div class="department-info">
                        <strong>@application.DepartmentName</strong>
                        <span>@application.SectionName</span>
                    </div>
                </div>
                <div class="cell">
                    <div class="date-info">
                        <div class="date-item">
                            <i class="fa-solid fa-calendar-days" style="color: #16cd13;"></i>
                            <span class="internshipStartDate" data-date="@application.CreatedDate">@DateOnly.FromDateTime(application.CreatedDate)</span>
                        </div>
                        <div class="date-item">
                            <i class="fa-solid fa-clock-rotate-left" style="color: #aeb01c;"></i>
                            <span class="internshipEndDate" data-date="@application.UpdatedDate">@DateOnly.FromDateTime(application.UpdatedDate)</span>
                        </div>
                    </div>
                </div>
                <div class="cell">
                    @{
                        string status = "";

                        switch (@application.Status)
                        {
                            case "Approved":
                                status = "Onaylandı";
                                break;
                            case "Interview":
                                status = "Mülakat";
                                break;
                            case "OnWait":
                                status = "Beklemede";
                                break;
                            case "Denied":
                                status = "Reddedildi";
                                break;
                            default:
                                status = "";
                                break;
                        }
                }
                    <span class="status-badge @application.Status">@status</span>
                </div>
                <div class="cell">
                    <div class="action-buttons">
                        <a href="/Applications/View/@(application.ApplicationId)" hx-get="/Applications/View/@(application.ApplicationId)" hx-target="#content" hx-push-url="true" class="btn-action btn-view" title="Görüntüle">
                            <i class="fas fa-eye"></i>
                        </a>
                        <form method="post" asp-action="DeleteApplication" asp-route-applicationId="@application.ApplicationId" class="hxform" hx-post="/Applications/DeleteApplication?applicationId=@(application.ApplicationId)" hx-target="#content" hx-push-url="true">
                            <button type="submit" title="Sil" class="btn-action delete">
                                <i class="fas fa-trash"></i>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        }

    }
</div>
<div class="row">
    <div>
        <partial name="Small/_Pagination" />
    </div>
</div>